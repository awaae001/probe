syntax = "proto3";

package registry;

option go_package = "discord-bot/proto";

// 服务发现服务，由网关提供
service RegistryService {
  rpc Register(RegisterRequest) returns (RegisterResponse);
}

message RegisterRequest {
  // API 密钥，用于身份验证
  string api_key = 1;
  // Bot 的网络地址, 例如 "http://bot-a:50051"
  string address = 2;
  // Bot 提供的 gRPC 服务名称列表
  repeated string services = 3;
}

message RegisterResponse {
  // 注册是否成功
  bool success = 1;
  // 可选的返回消息
  string message = 2;
}